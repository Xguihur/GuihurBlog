(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{453:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ğŸ’Œçºµè§‚å…¨å±€-ä¿¯è§†ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’Œçºµè§‚å…¨å±€-ä¿¯è§†ä»£ç "}},[t._v("#")]),t._v(" ğŸ’Œçºµè§‚å…¨å±€ -- ä¿¯è§†ä»£ç ")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.yuque.com/luffy-j7ldi/yux7yt/nr33g2iuald76dmi",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯­é›€ä¸­å·²å…¬å¼€å½“å‰æ–‡ç«  -- æˆ³è¿™é‡ŒğŸ‘ˆ"),s("OutboundLink")],1)]),t._v(" "),s("ol",[s("li",[t._v("åˆ›å»º Vue ç±»")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±æ€§ä»£ç†")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enumerable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configurable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('è§¦å‘ this ä¸Šå±æ€§çš„ get å±æ€§')")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨æ¨¡æ¿ç¼–è¯‘çš„å‡½æ•°")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compiler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("åˆ›å»º æ•°æ®åŠ«æŒæ–¹æ³•")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dep "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enumerable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configurable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå®ä¾‹å­˜åœ¨çš„è¯å°±å°†å®ä¾‹æ·»åŠ åˆ°æ•°ç»„ä¸­")]),t._v("\n        Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(dep)")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("åˆ›å»º compiler æ–¹æ³•")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compiler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å– el å¯¹åº”çš„ dom å…ƒç´ ")]),t._v("\n  vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ–‡æ¡£ç¢ç‰‡")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fragment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDocumentFragment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    fragment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œæ¨¡æ¿ç¼–è¯‘ ç”¨ä¸€ä¸ªå‡½æ•°å°è£…èµ·æ¥ï¼ŒåŒ…å«æ¨¡æ¿ç¼–è¯‘çš„å…¨è¿‡ç¨‹ï¼Œå°±æš‚æ—¶ä¸æŠ½ç¦»å‡ºå»äº†ï¼Œçœä¸€äº›äº‹")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è´Ÿè´£å¯¹ dom æ¨¡æ¿è¿›è¡Œç¼–è¯‘  æ ¸å¿ƒä¸­çš„æ ¸å¿ƒå‡½æ•°")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" regMustache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\{\\{\\s*(\\S+)\\s*\\}\\}")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åŒ¹é…æ’å€¼è¡¨è¾¾å¼çš„æ­£åˆ™è¡¨è¾¾å¼")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦ä¸º æ–‡æœ¬èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" regResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" regMustache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" regResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regMustache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" regResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// node.textContent = node.textContent.replace(regResult[0], value)")]),t._v("\n          node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regMustache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦ä¸º input èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INPUT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦æœ‰ v-model å±æ€§")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" attrs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attributes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¼ªæ•°ç»„è½¬æ•°ç»„")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" model "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" attrs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'v-model'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//å°†å«æœ‰ v-model çš„èŠ‚ç‚¹çš„modelå€¼é€‰å‡ºæ¥ v-model="name",å­—ç¬¦ä¸²æ ¼å¼,ä¸ç¬¦åˆçš„ä¸ºnull')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" valueKey "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" valueKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(value)")]),t._v("\n        node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç°åœ¨åªæ˜¯é¦–æ¬¡ç¼–è¯‘çš„æ—¶å€™èƒ½åŒæ­¥")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°å•å‘ç»‘å®š")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" valueKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å–å€¼  æŒ‰ . åˆ†å‰²ä¹‹å å†ç”¨ sliceå–åˆ°å€’æ•°ç¬¬äºŒä¸ª")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" keyArr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" valueKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" newobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//objæ˜¯åˆ° å€’æ•°ç¬¬äºŒä¸ªå±æ€§")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èµ‹å€¼ æ›¿æ¢")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// obj[keyArr.length - 1] = e.target.value")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" leafKey "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å–åˆ°æœ€åä¸€ä¸ªå±æ€§")]),t._v("\n          obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("leafKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å€’æ•°ç¬¬äºŒä¸ªå¼•ç”¨å€’æ•°ç¬¬ä¸€ä¸ª å±æ€§,æœ€ç»ˆå¾—åˆ°ç›®æ ‡å€¼çš„ä½ç½®,æ›¿æ¢å€¼å°±å¥½")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("ç»“åˆå‘å¸ƒè®¢é˜…è€…æ¨¡å¼")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯ä»¥ä¼˜åŒ–ä¸º å•ä¾‹æ¨¡å¼")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("watcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cb\n\n    Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n    key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newValue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h1",{attrs:{id:"ğŸ’è§†é¢‘é¡ºåºè§£ææ¨¡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’è§†é¢‘é¡ºåºè§£ææ¨¡å—"}},[t._v("#")]),t._v(" ğŸ’è§†é¢‘é¡ºåºè§£ææ¨¡å—")]),t._v(" "),s("h2",{attrs:{id:"ğŸ™‚åˆ›å»º-vue-ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ™‚åˆ›å»º-vue-ç±»"}},[t._v("#")]),t._v(" ğŸ™‚åˆ›å»º Vue ç±»")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±æ€§ä»£ç†")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enumerable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configurable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('è§¦å‘ this ä¸Šå±æ€§çš„ get å±æ€§')")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è°ƒç”¨æ¨¡æ¿ç¼–è¯‘çš„å‡½æ•°")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compiler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("ol",[s("li",[t._v("é¦–å…ˆ"),s("strong",[t._v("åˆ›å»º Vue ç±»")]),t._v("ï¼Œæ„é€ å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ª"),s("strong",[t._v("é…ç½®å¯¹è±¡")]),t._v("å‚æ•°ï¼Œåœ¨å†…éƒ¨å°† data èµ‹å€¼ç»™ $data")]),t._v(" "),s("li",[t._v("è°ƒç”¨ä¸€ä¸‹ "),s("strong",[t._v("Observe å‡½æ•°")]),t._v("ï¼Œå°† data å¯¹è±¡ä¼ å…¥ï¼Œå†…éƒ¨çš„ä½œç”¨æ˜¯å¯¹ data ä¸­æ‰€æœ‰çš„æ•°æ®è¿›è¡ŒåŠ«æŒ\n"),s("ol",[s("li",[t._v("åé¢ç»“åˆå‘å¸ƒè®¢é˜…æ¨¡å¼è¿˜ åˆ›å»ºäº†ä¸€ä¸ª Dep å®ä¾‹ï¼Œç”¨äºåœ¨ è§¦å‘ get çš„æ—¶å€™åˆ¤æ–­ Dep ç±»ä¸­æ˜¯å¦ç»‘å®šäº† watcher å®ä¾‹ï¼Œæœ‰çš„è¯å°± æ‰§è¡Œ addSub æ–¹æ³•ï¼Œä¹Ÿç”¨äºåœ¨ set ä¸­å€¼è¢«æ›´æ–°æ—¶ è°ƒç”¨ notify å»é€šçŸ¥æ‰€æœ‰çš„è®¢é˜…è€…")])])]),t._v(" "),s("li",[t._v("é€šè¿‡"),s("strong",[t._v("å±æ€§ä»£ç†")]),t._v("çš„æ–¹å¼ï¼Œä¸º vm å®ä¾‹ä»£ç†ä¸Š data ä¸­çš„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªä¾¿æ·æ–¹å¼ï¼Œé€šè¿‡ this.name æ–¹å¼ è°ƒç”¨åŸæœ¬éœ€è¦ this.$data.name è°ƒç”¨ çš„å±æ€§")]),t._v(" "),s("li",[t._v("æœ€åé€šè¿‡ æ‰§è¡Œ "),s("strong",[t._v("compiler å‡½æ•°")]),t._v("å°†ç”¨æˆ·ç¼–å†™çš„æ¨¡æ¿è¿›è¡Œ æ¨¡æ¿è¯­è¨€ æ›¿æ¢\n"),s("ol",[s("li",[t._v("ä¸»è¦æ˜¯åŒ¹é… mustache è¯­æ³• ä»¥åŠ å±æ€§ä¸­åŠ¨æ€ç»‘å®šçš„å±æ€§å€¼ï¼Œå°†è¿™äº›å ä½ç¬¦æ›¿æ¢ä¸º data ä¸­çš„æ•°æ®")])])])]),t._v(" "),s("p",[s("strong",[t._v("æ€»ç»“ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("**ä¸»è¦å°±æ˜¯åœ¨ new Vue çš„å®ä¾‹çš„åŒæ—¶æ‰§è¡Œä»¥ä¸Šäº”ä¸ªæ­¥éª¤ï¼Œä¸º Vue å®ä¾‹åšåˆå§‹åŒ–ï¼Œé…ç½®å‚æ•°dataçš„æ•°æ®åŠ«æŒä»¥åŠæ¨¡æ¿çš„ç¢ç‰‡åŒ–æ–‡æ¡£ä¼˜åŒ–å¤„ç† **")])]),t._v(" "),s("h2",{attrs:{id:"ğŸ˜„åˆ›å»º-æ•°æ®åŠ«æŒ-çš„æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ˜„åˆ›å»º-æ•°æ®åŠ«æŒ-çš„æ–¹æ³•"}},[t._v("#")]),t._v(" ğŸ˜„åˆ›å»º æ•°æ®åŠ«æŒ çš„æ–¹æ³•")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dep "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enumerable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("configurable")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('æ‰§è¡Œäº† get')")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå®ä¾‹å­˜åœ¨çš„è¯å°±å°†å®ä¾‹æ·»åŠ åˆ°æ•°ç»„ä¸­")]),t._v("\n        Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(dep)")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log('æ‰§è¡Œäº† set')")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(newValue)")]),t._v("\n        value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Observe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("ol",[s("li",[t._v("é¦–å…ˆ"),s("strong",[t._v("åˆ¤æ–­")]),t._v("ä¼ å…¥çš„å‚æ•°"),s("strong",[t._v("æ˜¯å¦ä¸ºå¯¹è±¡ç±»å‹")]),t._v("ï¼Œå¦‚æœä¸ä¸ºå¯¹è±¡ç±»å‹é‚£å°±ç›´æ¥ return\n"),s("ol",[s("li",[t._v("å› ä¸ºç¬¬ä¸€æ¬¡ä¼ å…¥çš„æ˜¯ data å¯¹è±¡ï¼Œä¸€å®šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªé™åˆ¶åªæ˜¯ä½œä¸ºä¸‹é¢ **é€’å½’å¤„ç† **æ—¶çš„é€€å‡ºæ¡ä»¶ï¼Œå¹¶ä¸å½±å“æ­£å¸¸æ‰§è¡Œ")])])]),t._v(" "),s("li",[t._v("ç¬¬ä¸€æ¬¡ä¸€å®šæ˜¯å¯¹è±¡ï¼Œäºæ˜¯è¿›å…¥åˆ°ä¸‹é¢çš„ä»£ç ï¼Œå¯¹"),s("strong",[t._v("è¿™ä¸ªå¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§")]),t._v("è¿›è¡Œ é€’å½’ åŠ«æŒï¼Œä¸»è¦æ˜¯åœ¨ get å’Œ set ä¸­è¦å¤„ç† "),s("strong",[t._v("å‘å¸ƒè®¢é˜…")]),t._v(" çš„ä»£ç ï¼Œæ‰€ä»¥æ‰éœ€è¦åŠ«æŒ\n"),s("ol",[s("li",[t._v("å› ä¸º å±æ€§çš„ get å’Œ set æœ‰å½“æ•°æ®è¢« å– æˆ–è€… èµ‹å€¼ æ—¶å°±æ‰§è¡Œå‡½æ•°çš„ç‰¹æ€§ï¼Œéå¸¸å¥‘åˆ å‘å¸ƒè®¢é˜… ä¸­çš„å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ æ›´æ–°æ¨¡æ¿ ä¸­æ•°æ®çš„ä¿®æ”¹ï¼Œäºæ˜¯è¢«é€‰æ‹©ä½¿ç”¨ï¼ï¼ˆvue3 ä¸­çš„ proxy ä¹Ÿåªæ˜¯æ›¿æ¢äº† è¿™ä¸€åŠŸèƒ½è€Œå·²ï¼Œç›®çš„æ˜¯æ›´å¤šçš„æ“ä½œæ€§ä»¥åŠè®©é€»è¾‘æ›´åŠ çš„åˆç†ï¼‰")]),t._v(" "),s("li",[t._v("get å’Œ set çš„åŠ«æŒä¸­æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‚¹å°±æ˜¯"),s("strong",[t._v("é˜²æ­¢ å¾ªç¯å¼•ç”¨")]),t._v("ï¼\n"),s("ol",[s("li",[t._v("get/set å¦‚æœåœ¨å†…éƒ¨é‡æ–° å¼•ç”¨/èµ‹å€¼ï¼Œé‚£ä¹ˆå°±ç›¸å½“äºä¸€ç›´è§¦å‘ get/set")]),t._v(" "),s("li",[t._v("è§£å†³è¿™ä¸€é—®é¢˜çš„æ–¹æ³•æ˜¯ä½¿ç”¨ "),s("strong",[t._v("é—­åŒ…")]),t._v("ï¼Œé€šè¿‡åœ¨ åŠ«æŒå‡½æ•° è°ƒç”¨ä¹‹å‰ï¼Œç”¨ä¸€ä¸ªå˜é‡å­˜ç€é‚£ä¸ªå€¼ï¼Œä¹‹åæ›´æ–°ä¸è·å–éƒ½é€šè¿‡è¿™ä¸ªå€¼å³å¯")])])]),t._v(" "),s("li",[t._v("set ä¸­ ä¸ºäº†ä¿è¯ ä¿®æ”¹åçš„ å€¼ä¹Ÿèƒ½å¤Ÿè¢«åŠ«æŒåˆ°ï¼Œäºæ˜¯åœ¨ä¿®æ”¹åä¹Ÿè¦å›è°ƒä¸€ä¸‹ Observe æ–¹æ³•ï¼Œå°†æ–°çš„å€¼é€šè¿‡è¿™ä¸ªå‡½æ•°æ•°æ®åŠ«æŒ")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679645866551-1868aaf3-91a1-479c-9a9b-b002986b79ac.png#averageHue=%23242a32&clientId=uc69149a7-9688-4&from=paste&height=340&id=u05b30e39&originHeight=518&originWidth=621&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=72072&status=done&style=none&taskId=ud83bddf0-c75a-4714-9995-4f2834dba15&title=&width=407.5426025390625",alt:"image.png"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("é€’å½’è°ƒç”¨çš„æ–¹æ³•éå¸¸å€¼å¾—å­¦ä¹ ï¼Œé€šè¿‡æ•°ç»„çš„ reduce()\n"),s("ol",[s("li",[t._v("ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯åˆå§‹å€¼ï¼Œé»˜è®¤ä¸º0")]),t._v(" "),s("li",[t._v("å›è°ƒå‡½æ•°å†…éƒ¨åˆéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ ä¸Šä¸€æ¬¡å¾ªç¯çš„è¿”å›å€¼ï¼Œç¬¬äºŒä¸ªæ˜¯å½“å‰é¡¹å–å¾—å€¼")]),t._v(" "),s("li",[t._v("é€šè¿‡è¿™ä¸ªæ–¹æ³•èƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³ é“¾å¼è°ƒç”¨ çš„é—®é¢˜ï¼ˆinfo.name.a ==> å–åˆ° a çš„å€¼ï¼‰")])])]),t._v(" "),s("li",[t._v("è¿˜æœ‰ä¸€ä¸ªåé¢åŠ å…¥çš„ä»£ç ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ç§€çš„æ“ä½œï¼š\n"),s("ol",[s("li",[t._v("å› ä¸ºè¿™ä¸ªå‡½æ•°åªä¼šåœ¨ Vue å®ä¾‹åˆ›å»ºçš„é‚£ä¸€åˆ»æ‰§è¡Œï¼Œæ‰€ä»¥å†…éƒ¨æ‰§è¡Œçš„åŒæ—¶åˆ›å»ºä¸€ä¸ª Dep å®ä¾‹ä½œä¸º"),s("strong",[t._v("å…¨å±€çš„ æ”¶é›†è€…")]),t._v("ï¼Œç„¶åé€šè¿‡ åœ¨ get å’Œ set ä¸­å®ç° å‘å¸ƒè®¢é˜…çš„ç›¸å…³åŠŸèƒ½")]),t._v(" "),s("li",[t._v("get ä¸­æ¯æ¬¡è°ƒç”¨ä¼šåˆ¤æ–­ Dep ç±»ä¸­æ˜¯å¦æœ‰ watcher å®ä¾‹ï¼Œå¦‚æœæœ‰å°± æ’å…¥ å…¨å±€æ”¶é›†è€…æ•°ç»„ä¸­ ï¼Œæ²¡æœ‰çš„è¯å°±ä¸ç†ä¼š")]),t._v(" "),s("li",[t._v("set ä¸­æ¯æ¬¡è§¦å‘ä¼šä¿®æ”¹ data ä¸­å¯¹åº”çš„å€¼ä¸ºæœ€æ–°çš„å€¼ï¼Œæ¥ç€è§¦å‘ notify æ–¹æ³•é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…æ›´æ–°æ•°æ®")])])])]),t._v(" "),s("h2",{attrs:{id:"ğŸ˜¬åˆ›å»º-compile-æ¨¡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ˜¬åˆ›å»º-compile-æ¨¡å—"}},[t._v("#")]),t._v(" ğŸ˜¬åˆ›å»º compile æ¨¡å—")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compiler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å– el å¯¹åº”çš„ dom å…ƒç´ ")]),t._v("\n  vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ–‡æ¡£ç¢ç‰‡")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fragment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createDocumentFragment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    fragment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œæ¨¡æ¿ç¼–è¯‘ ç”¨ä¸€ä¸ªå‡½æ•°å°è£…èµ·æ¥ï¼ŒåŒ…å«æ¨¡æ¿ç¼–è¯‘çš„å…¨è¿‡ç¨‹ï¼Œå°±æš‚æ—¶ä¸æŠ½ç¦»å‡ºå»äº†ï¼Œçœä¸€äº›äº‹")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fragment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è´Ÿè´£å¯¹ dom æ¨¡æ¿è¿›è¡Œç¼–è¯‘  æ ¸å¿ƒä¸­çš„æ ¸å¿ƒå‡½æ•°")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" regMustache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\{\\{\\s*(\\S+)\\s*\\}\\}")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åŒ¹é…æ’å€¼è¡¨è¾¾å¼çš„æ­£åˆ™è¡¨è¾¾å¼")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦ä¸º æ–‡æœ¬èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" regResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" regMustache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœåŒ¹é…çš„ä¸ä¸ºç©º")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" regResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regMustache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" regResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// node.textContent = node.textContent.replace(regResult[0], value)")]),t._v("\n          node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regMustache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦ä¸º input èŠ‚ç‚¹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'INPUT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦æœ‰ v-model å±æ€§")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" attrs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attributes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¼ªæ•°ç»„è½¬æ•°ç»„")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" model "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" attrs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'v-model'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//å°†å«æœ‰ v-model çš„èŠ‚ç‚¹çš„modelå€¼é€‰å‡ºæ¥ v-model="name",å­—ç¬¦ä¸²æ ¼å¼,ä¸ç¬¦åˆçš„ä¸ºnull')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" valueKey "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" valueKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(value)")]),t._v("\n        node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç°åœ¨åªæ˜¯é¦–æ¬¡ç¼–è¯‘çš„æ—¶å€™èƒ½åŒæ­¥")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼å®ç°å•å‘ç»‘å®š")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" valueKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ç°åŒå‘ç»‘å®š:å°±æ˜¯ç›‘å¬inputäº‹ä»¶,æ¯æ¬¡æ›´æ–°inputéƒ½å°†dataä¸­çš„å€¼è¿›è¡Œä¸€æ¬¡æ›´æ–°,è¿™ä¸€æ­¥åº”è¯¥ä¸æ¶‰åŠå‘å¸ƒè®¢é˜…æ¨¡å¼ v-model == @input +:value ,:value å’Œ :v-model æ²¡å•¥åŒºåˆ«,å®é™…ä¸Šå°±æ˜¯ç”¨äº†è¿™é‡Œçš„å‘å¸ƒè®¢é˜…æ¨¡å¼")]),t._v("\n        node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…ˆè·å–åˆ°è¦ä¿®æ”¹çš„ data ä¸­çš„å€¼,ç„¶åç”¨ input ä¸­çš„æ–°å€¼æ›¿æ¢å°±å¥½")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å–å€¼  æŒ‰ . åˆ†å‰²ä¹‹å å†ç”¨ sliceå–åˆ°å€’æ•°ç¬¬äºŒä¸ª")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" keyArr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" valueKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" newobj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//objæ˜¯åˆ° å€’æ•°ç¬¬äºŒä¸ªå±æ€§")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èµ‹å€¼ æ›¿æ¢")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// obj[keyArr.length - 1] = e.target.value")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" leafKey "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("keyArr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å–åˆ°æœ€åä¸€ä¸ªå±æ€§")]),t._v("\n          obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("leafKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å€’æ•°ç¬¬äºŒä¸ªå¼•ç”¨å€’æ•°ç¬¬ä¸€ä¸ª å±æ€§,æœ€ç»ˆå¾—åˆ°ç›®æ ‡å€¼çš„ä½ç½®,æ›¿æ¢å€¼å°±å¥½")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    node"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[t._v("**Mainï¼šcompiler **çš„ä½œç”¨æ˜¯å°†ç”¨æˆ·å†™å¥½çš„ æ¨¡æ¿ç»™æå–åˆ° **æ–‡æ¡£ç¢ç‰‡ **ä¸­ï¼Œåœ¨è¿™æœŸé—´å¯¹è¿™ä¸ªæ¨¡æ¿è¿›è¡Œä¸€äº› æ“ä½œï¼Œç„¶åå°†ä¿®æ”¹å¥½çš„ æ¨¡æ¿ æ·»åŠ åˆ°ç»™é¡µé¢çš„èŠ‚ç‚¹ä¸­è¿›è¡Œæ¸²æŸ“\n"),s("strong",[t._v("Thinkï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("æ–‡æ¡£ç¢ç‰‡çš„ä½œç”¨å…¶å®"),s("strong",[t._v("ç±»ä¼¼äº template æ¨¡æ¿æ ‡ç­¾")]),t._v("ä¸€æ ·ï¼Œå¯ä»¥æ•´ä¸ªæ·»åŠ å› app èŠ‚ç‚¹ä¸­ï¼Œç»“æ„ä¸ä¹‹å‰ä¸€æ ·ã€‚ä½†æ˜¯"),s("strong",[t._v("ä½¿ç”¨ createElement åˆ›å»ºæ–°èŠ‚ç‚¹")]),t._v("ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªä¸è¿‡æ·»åŠ å›å» app èŠ‚ç‚¹çš„æ—¶å€™"),s("strong",[t._v("å¾—æŠŠå­èŠ‚ç‚¹ä¸€ä¸ªä¸€ä¸ªåœ°")]),t._v(" appendChild è¿‡å»ï¼Œä¸èƒ½ç›´æ¥æ•´ä½“ appendChild ï¼Œè¿™æ ·çš„è¯å°±ä¼šå˜å¾—å¤šäº†ä¸€ä¸ªèŠ‚ç‚¹åœ¨ app ä¸­ï¼Œå¯èƒ½ä¼šå½±å“æ ·å¼ä¹‹ç±»çš„ !")]),t._v(" "),s("li",[t._v("ä¸€å¼€å§‹ä¸çŸ¥é“ appendChild å±…ç„¶æ˜¯ç§»åŠ¨å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ä¼šè‡ªåŠ¨åˆ é™¤åŸèŠ‚ç‚¹çš„å¯¹åº”å†…å®¹ï¼Œè¿˜å»éªŒè¯äº†ä¸€ä¸‹ã€‚åé¢çœ‹äº†æ–‡æ¡£ï¼Œå‘ç° MDN æ–‡æ¡£ä¸­å†™çš„ä¹Ÿæ˜¯ä¼šç§»åŠ¨çš„ï¼å°±ç®—æ˜¯å­¦ä¼šäº†ä¸€äº›ã€‚ï¼ˆä½†æ˜¯åé¢é€šè¿‡ creatElement çš„æ–¹å¼ï¼Œç›´æ¥appendæ•´ä½“ï¼Œä¹‹å é‚£ä¸ª createElement çš„èŠ‚ç‚¹è¿˜æ˜¯å­˜åœ¨å†…å®¹çš„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºæ•´ä½“ç§»åŠ¨ï¼Œæ‰€ä»¥è·å–çš„è¿˜æ˜¯è¿™åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¤§æ¦‚ç‡æ˜¯çš„ï¼Œä¸ç„¶å°±æ˜¯æ–‡æ¡£æ¼æ´äº† å“ˆå“ˆå“ˆå“ˆï¼‰")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679646135054-123754ae-6c9a-4efb-99f8-afbe5f791931.png#averageHue=%23f6f4f2&clientId=uc69149a7-9688-4&from=paste&height=394&id=uc6364613&originHeight=433&originWidth=822&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=44813&status=done&style=none&taskId=u4436ccfb-590f-4d2b-a729-7b1f0180785&title=&width=747.2727110760275",alt:"62f1f9e4c03c9908e2e1e89753981dc.png"}}),t._v(" "),s("strong",[t._v("Studyï¼š")])]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("å‰è¨€ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("ç”¨åˆ°äº†ä¸å°‘è‡ªå·±ä¸ç†Ÿæ‚‰çš„ api ï¼Œå€¼å¾—å­¦ä¹ ï¼š"),s("strong",[t._v("createDocumentFragment")]),t._v(" ã€ "),s("strong",[t._v("appendChild")]),t._v(" ã€ "),s("strong",[t._v("node.firstChild")]),t._v(" ã€** node.nodeType** ã€** node.childNodes** -- è¿”å›å€¼æ˜¯ nodelist ç±»å‹çš„æ•°ç»„ ã€æ–‡æœ¬èŠ‚ç‚¹æœ‰ä¸€ä¸ªå±æ€§ï¼š"),s("strong",[t._v("textContent")]),t._v(" æ˜¯çœŸæ­£çš„æ–‡æœ¬ï¼Œ"),s("strong",[t._v("æ–‡æœ¬èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡")]),t._v("ã€‚")]),t._v(" "),s("li",[t._v("åŒå‘æ•°æ®ç»‘å®šä¸­ä¹Ÿæ¶‰åŠäº†ï¼š"),s("strong",[t._v("node.nodeType")]),t._v("ã€"),s("strong",[t._v("node.tagName")]),t._v("ã€"),s("strong",[t._v("Array.from")]),t._v("ã€"),s("strong",[t._v("attrs.find")]),t._v("ã€Â "),s("strong",[t._v("keyArr.slice")]),t._v("ï¼Œä½œç”¨å„ä¸ç›¸åŒï¼Œä½†æ˜¯éƒ½æ¯”è¾ƒè€ƒéªŒåŠŸåº•ã€‚å› ä¸ºæœ‰å¾ˆå¤šå­—ç¬¦ä¸²å’Œæ•°ç»„çš„æ–¹æ³•ï¼Œä½œç”¨éƒ½æŒºåƒçš„ï¼Œçœ‹è‡ªå·±æ€ä¹ˆé€‰æ‹©ï¼")])])]),t._v(" "),s("li",[t._v("ğŸ’¥é¦–å…ˆæ˜¯å‚æ•°ï¼Œéœ€è¦è·å– el å’Œ vm ï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ° Vue å®ä¾‹ä»¥åŠæŒ‚è½½çš„èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("ğŸ’¥æ¥ç€æ˜¯è·å–åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œåˆ›å»º æ–‡æ¡£ç¢ç‰‡ åå°†èŠ‚ç‚¹å†…çš„å…ƒç´ éƒ½åŠ å…¥åˆ° æ–‡æ¡£ç¢ç‰‡ ä¸­")]),t._v(" "),s("li",[s("strong",[t._v("ğŸ—¯ï¸ğŸ¤ ã€é‡ç‚¹ä¸­çš„é‡ç‚¹ã€‘")]),t._v("ï¼šé€šè¿‡ "),s("strong",[t._v("replace å‡½æ•°")]),t._v(" å¯¹ æ–‡æ¡£ç¢ç‰‡ä¸­ çš„ èŠ‚ç‚¹ è¿›è¡Œå¤„ç†ï¼Œä»¥è¾¾åˆ°æˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„æ•ˆæœï¼š\n"),s("ol",[s("li",[t._v("å°† æ¨¡æ¿ ä¸­çš„ å ä½ç¬¦ æ›¿æ¢ä¸º data ä¸­çš„å†…å®¹ï¼Œæ¥ç€ä½¿ç”¨ å‘å¸ƒè®¢é˜… ä»¥åŠ æ•°æ®åŠ«æŒ å¯¹ data ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œ ç›‘å¬ï¼Œå½“å‘ç°æ•°æ®å˜åŒ–åå°±æ›´æ–° æ¨¡æ¿ çš„å†…å®¹")]),t._v(" "),s("li",[t._v("ã€æ€è€ƒğŸ•µï¸ã€‘çœ‹äº†è¿™ä¸ª æ›´æ–°æ¨¡æ¿ çš„ä»£ç ï¼Œå‘ç°æ ¹æ® data ä¸­æ•°æ®ä¿®æ”¹ï¼Œå®ƒä¿®æ”¹çš„æ˜¯ æ–‡æ¡£ç¢ç‰‡ ä¸­çš„ æ¨¡æ¿å†…å®¹ï¼Œé€šè¿‡ä»£ç æŠŠæ¨¡æ¿æ›¿æˆçœŸæ­£çš„å†…å®¹ä¹‹åå°±æŠŠæ•´ä¸ª æ–‡æ¡£ç¢ç‰‡ ç§»åŠ¨åˆ° #app èŠ‚ç‚¹ä¸­äº†ã€‚é‚£ä¹ˆå¦‚æœæ•°æ®åˆå‘ç”Ÿä¿®æ”¹ï¼Œæ˜¯ç›´æ¥ä¿®æ”¹ html é¡µé¢ä¸­çš„å†…å®¹å®ç°å®ç°é‡æ’ï¼Œè¿˜æ˜¯åˆå°†æ‰€æœ‰çš„åŠ å…¥åˆ°æ–‡æ¡£ç¢ç‰‡é‡æ–°ç¼–è¯‘ä¸€æ¬¡å‘¢ï¼Ÿ\n"),s("ol",[s("li",[t._v("è‡ªå·±è§£ç­”ï¼šé¦–å…ˆæ˜¯ä¸ä¼šé‡æ–°åŠ å…¥åˆ°æ–‡æ¡£ç¢ç‰‡çš„ï¼Œå› ä¸ºæ²¡æœ‰é‡æ–°è°ƒç”¨ compiler å‡½æ•°")]),t._v(" "),s("li",[t._v("å…¶æ¬¡æ›´æ–°å†…å®¹çš„ç†è®ºæ˜¯ï¼šæ ¹æ® data ä¸­çš„æ•°æ®å˜åŒ–ï¼Œè§¦å‘ set ï¼Œç„¶å set å»è°ƒç”¨ è®¢é˜…è€…å®ä¾‹çš„ updated æ–¹æ³•")]),t._v(" "),s("li",[t._v("updated æ–¹æ³•çš„ä½œç”¨æ˜¯è·å–æ›´æ–°åçš„å€¼ï¼Œç„¶åå°†è¿™ä¸ªå€¼ä¼ é€’ç»™ cb å›è°ƒå‡½æ•°è¿›è¡Œæ›´æ–°")]),t._v(" "),s("li",[t._v("cb å›è°ƒå‡½æ•°çš„ä½œç”¨å°±æ˜¯æˆ‘æƒ³é—®çš„é—®é¢˜çš„å…³é”®äº†ï¼šcb å†…éƒ¨æœ‰å½¢æˆä¸€ä¸ªé—­åŒ…ï¼Œå¯ä»¥æ‹¿åˆ°è¿™ä¸ªå®ä¾‹å¯¹åº”çš„ node èŠ‚ç‚¹ï¼Œå°†è¿™ä¸ª node èŠ‚ç‚¹çš„ textContent çš„å ä½ç¬¦ æ›¿æ¢ä¸º æœ€æ–°çš„å€¼ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å®Œæˆæ•°æ®çš„æ›´æ–°")])])]),t._v(" "),s("li",[t._v("ã€ç»§ç»­æ€è€ƒğŸ•µï¸ã€‘å¾ˆå¥½ï¼Œä¸Šä¸€ä¸ªé—®é¢˜ç®—æ˜¯è§£å†³äº†ï¼Œåˆæ¥ä¸€ä¸ªé—®é¢˜ï¼šæ—¢ç„¶ç¬¬ä¸€æ¬¡å°±å°†å ä½ç¬¦æ›¿æ¢ä¸ºå†…å®¹ï¼Œå¹¶ä¸”æ¸²æŸ“å¥½äº†ï¼Œé‚£ä¹ˆä¿®æ”¹æ•°æ®ä¹‹åï¼Œwatcher å†…éƒ¨è¿˜æ˜¯ é€šè¿‡æ›¿æ¢ regMustache ä¸º æœ€æ–°çš„å€¼ï¼Œé—®é¢˜æ˜¯è¿˜åŒ¹é…å¾—åˆ°è¿™ä¸ª regMustache å—ï¼Ÿæ˜¯æ€ä¹ˆåŒ¹é…åˆ°çš„ï¼Ÿ")])])]),t._v(" "),s("li",[t._v("ğŸ’¥ç¼–è¯‘å®Œæˆåé€šè¿‡ "),s("code",[t._v("vm.$el.appendChild(fragment)")]),t._v(" "),s("strong",[t._v("å°†æ–‡æ¡£ç¢ç‰‡æ’å…¥å› #app èŠ‚ç‚¹")]),t._v("ä¸­è¿›è¡Œæ¸²æŸ“ï¼ï¼ï¼")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679639107294-34e84687-377a-4f16-9bf8-25a1e07dcc8c.png#averageHue=%23242932&clientId=uc69149a7-9688-4&from=paste&height=445&id=u2a9ab429&originHeight=489&originWidth=977&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=89078&status=done&style=none&taskId=u77bfe754-83fe-40dd-92d0-8c524c83191&title=&width=888.1817989309961",alt:"image.png"}})]),t._v(" "),s("hr"),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("ğŸ‘¹replace æ–¹æ³•ä¸­çš„"),s("strong",[t._v("å…·ä½“æµç¨‹")]),t._v("ï¼š\n"),s("ol",[s("li",[t._v("é¦–å…ˆæ˜¯è®¾ç½®äº†ä¸€ä¸ª"),s("strong",[t._v("åŒ¹é… Mustache")]),t._v(" çš„"),s("strong",[t._v("æ­£åˆ™è¡¨è¾¾å¼")])]),t._v(" "),s("li",[t._v("æ¥ç€åˆ¤æ–­ nodeType** ç­›é€‰å‡º æ–‡æœ¬èŠ‚ç‚¹**ï¼Œç„¶åé€šè¿‡ "),s("strong",[t._v("å ä½ç¬¦")]),t._v(" çš„å†…å®¹ æ‰¾åˆ° data ä¸­å¯¹åº”çš„æ•°æ®ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªæ•°æ® **æ›¿æ¢ **æ‰é‚£ä¸ªå ä½ç¬¦")]),t._v(" "),s("li",[t._v("æœ€å å°†è¿™æ®µ "),s("strong",[t._v("æ›´æ–°æ•°æ®çš„ä»£ç ")]),t._v(" ä½œä¸º watcher å®ä¾‹çš„"),s("strong",[t._v("å›è°ƒå‡½æ•° çš„å†…å®¹")]),t._v("ï¼Œåˆ›å»ºä¸€ä¸ª watcher å®ä¾‹å¯¹è±¡\n"),s("ol",[s("li",[t._v("è¿™ä¸ªå®ä¾‹å¯¹è±¡ä¸€åˆ›å»ºå°±ä¼šæ‰§è¡Œæ„é€ å‡½æ•°ä¸­å¯¹åº”çš„å‡½æ•°ï¼Œæœ€ç»ˆçš„ç›®çš„æ˜¯è¿™ä¸ª watcher ä¼šè¢«æ”¶é›†è€…ç®¡ç†èµ·æ¥ï¼Œå½“è¿™ä¸ªèŠ‚ç‚¹ä¸­çš„æ•°æ®å¯¹åº”çš„** data ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–"),s("strong",[t._v("ä¼šè§¦å‘è¿™ä¸ª watcher çš„å›è°ƒå‡½æ•°å¯¹ æ¨¡æ¿ è¿›è¡Œæ›´æ–°ï¼Œå®ç°")]),t._v("å•å‘æ•°æ®ç»‘å®š**")])])])])]),t._v(" "),s("li",[t._v("ğŸ‘ºä¸Šä¸€ç‚¹ä¸­æ˜¯è®²åŒ¹é… æ’å€¼è¡¨è¾¾å¼ çš„ï¼Œæˆ‘ä»¬è¿˜å¯¹** input è¡¨å•**ä¹Ÿåšäº†ä¸€ä¸ªç±»ä¼¼çš„å¤„ç†\n"),s("ol",[s("li",[t._v("ğŸ’–é¦–å…ˆä¹Ÿæ˜¯åˆ¤æ–­ nodeType ç±»å‹é€‰å‡º input èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("æ¥ç€å°†å…·æœ‰ v-model å±æ€§çš„èŠ‚ç‚¹å†ç­›é€‰å‡ºæ¥")]),t._v(" "),s("li",[t._v("æ‹¿åˆ° v-model å¯¹åº”çš„ å ä½ç¬¦ï¼Œé€šè¿‡è¿™ä¸ªå»ç´¢å¼• data ä¸­å¯¹åº”çš„å†…å®¹")]),t._v(" "),s("li",[t._v("ğŸ’–æ‹¿åˆ° data ä¸­å¯¹åº”çš„å†…å®¹å æ›¿æ¢æ‰ input èŠ‚ç‚¹çš„ value å€¼")]),t._v(" "),s("li",[t._v("ğŸ’–åŒæ ·çš„ï¼Œä¸ºäº†èƒ½å¤Ÿå®ç°å•å‘æ•°æ®ç»‘å®šï¼Œè®© data ä¸­å¯¹åº”çš„å€¼ä¿®æ”¹æ—¶ï¼Œinput ä¸­çš„ value ä¹Ÿå¯¹åº”çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬ä¹Ÿè¦åˆ›å»ºä¸€ä¸ª watcher å®ä¾‹ï¼Œå¹¶ä¸”å°†"),s("strong",[t._v("è¿™ä¸ª æ›¿æ¢å†…å®¹ çš„æ“ä½œ")]),t._v("ä½œä¸º cb å›è°ƒå‡½æ•°çš„å†…å®¹")]),t._v(" "),s("li",[s("strong",[t._v("tips")]),t._v("ï¼šå†™åˆ°è¿™é‡Œæˆ‘çªç„¶æ˜ç™½äº†ï¼Œ"),s("strong",[t._v("æ•°æ®åŠ«æŒ "),s("strong",[t._v("æ˜¯å¯¹ data ä¸­çš„æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œå½“ data ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œä¼šè§¦å‘å¯¹åº”çš„ get å’Œ set æ“ä½œã€‚è€Œ "),s("strong",[t._v("å‘å¸ƒè®¢é˜…æ¨¡å¼")]),t._v(" å°±æ˜¯è®©è§¦å‘ set æ“ä½œçš„æ—¶å€™ï¼Œå¯¹æ¨¡æ¿ä¸­çš„æ•°æ®å†…å®¹è¿›è¡Œæ›´æ–°ã€‚æ‰€ä»¥")]),t._v("å•å‘æ•°æ®ç»‘å®šä¹Ÿå°±æ˜¯ data ä¸­çš„å†…å®¹å‘ç”Ÿå˜åŒ–çš„åŒæ—¶å»ä¿®æ”¹æ¨¡æ¿ä¸­çš„å†…å®¹ï¼Œå®ç°å®æ—¶æ›´æ–°ï¼ï¼ï¼")])])])]),t._v(" "),s("li",[t._v("å¯¹äº input è¡¨å•åªå®ç° å•å‘æ•°æ®ç»‘å®š åªèƒ½è¯´æ˜¯ç†Ÿæ‚‰äº†ä¸€é åŸç†æ–¹æ³•ï¼Œæœ¬è´¨å’Œ mustache çš„å•å‘æ•°æ®ç»‘å®šæ²¡å•¥åŒºåˆ«ï¼Œä½†æ˜¯ è¡¨å• çš„"),s("strong",[t._v("åŒå‘æ•°æ®ç»‘å®š")]),t._v("å°±æ˜¯ä¸€ä¸ªæ–°ä¸€äº›çš„çŸ¥è¯†äº†ï¼Œä¸ç®—éš¾ä½†æ˜¯è›®è€ƒéªŒåŠŸåº•çš„ï¼\n"),s("ol",[s("li",[t._v("ğŸ˜ºé¦–å…ˆæ˜¯å¯¹å½“å‰èŠ‚ç‚¹è¿›è¡Œ input äº‹ä»¶ç›‘å¬ï¼Œå›è°ƒå‡½æ•°ä¸­ä¼ ä¸€ä¸ª eï¼Œå¯ä»¥æ‹¿åˆ° è¡¨å•ä¸­çš„ æ–°å€¼")]),t._v(" "),s("li",[t._v("ğŸ˜ºå…¶æ¬¡æ˜¯åœ¨å›è°ƒå‡½æ•°ä¸­é€šè¿‡æ‰¾åˆ°"),s("strong",[t._v("è¦æ›´æ–°æ•°æ®çš„ä½ç½®")]),t._v("ï¼Œè¿™ä¸€æ­¥æ¯”è¾ƒç‰¹æ®Šï¼šé€šè¿‡ v-model çš„å ä½ç¬¦å»åŒ¹é… å€’æ•°ç¬¬äºŒä¸ªå¯¹è±¡ï¼ï¼ˆæœ‰ç‚¹ç»•ï¼Œä½†æ˜¯åŸç†å¾ˆå¥½ç†è§£ï¼Œä¾‹å¦‚ï¼š obj.info.name,æˆ‘ä»¬è¦ä¿®æ”¹ name ï¼Œé‚£ä¹ˆå°±è¦æ‹¿åˆ° obj.info ï¼Œç„¶åé€šè¿‡ obj.info[name] çš„æ–¹å¼å»ä¿®æ”¹å€¼ï¼‰")]),t._v(" "),s("li",[t._v("ğŸ˜ºåŒ¹é…åˆ°ä¹‹å å°† ä½ç½®ä¸Šçš„å€¼ æ›¿æ¢ä¸º æ–°å€¼ å°±å¥½äº†")])])]),t._v(" "),s("li",[t._v("å¦‚æœæ²¡æœ‰åŒ¹é…åˆ° æ–‡æœ¬èŠ‚ç‚¹ ä»¥åŠ input èŠ‚ç‚¹çš„è¯ï¼Œé‚£ä¹ˆå°±ä¸€å®šæ˜¯å†…éƒ¨è¿˜æœ‰å­èŠ‚ç‚¹ï¼Œé€šè¿‡éå† node.childNodes çš„æ–¹å¼è¿›è¡Œ "),s("strong",[t._v("replace é€’å½’")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("ä¸ç”¨æ‹…å¿ƒä¼šæ­»å¾ªç¯")]),t._v("ï¼Œå› ä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸€å®šä¼šæ˜¯ æ–‡æœ¬èŠ‚ç‚¹ï¼Œè¿™ä¸ª nodeType å°†ç©ºç™½ç¬¦å¦‚æ¢è¡Œã€ç©ºæ ¼ä¹Ÿå½“æˆäº† ç©ºç™½ç¬¦")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679639142557-a8fb4965-8468-448a-8f42-eeb14d5136ff.png#averageHue=%23242a32&clientId=uc69149a7-9688-4&from=paste&height=320&id=uc0ebcc68&originHeight=352&originWidth=945&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=58049&status=done&style=none&taskId=u58cfde09-372f-4bdf-80b1-d24f9887042&title=&width=859.0908904706155",alt:"image.png"}})]),t._v(" "),s("h2",{attrs:{id:"ğŸ˜åˆ›å»º-æ”¶é›†è€…ç±»-ä»¥åŠ-è®¢é˜…è€…-ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ˜åˆ›å»º-æ”¶é›†è€…ç±»-ä»¥åŠ-è®¢é˜…è€…-ç±»"}},[t._v("#")]),t._v(" ğŸ˜åˆ›å»º æ”¶é›†è€…ç±» ä»¥åŠ è®¢é˜…è€… ç±»")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ”¶é›†è€…ç±»")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¯ä»¥ä¼˜åŒ–ä¸º å•ä¾‹æ¨¡å¼")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addSub")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("watcher")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("watcher"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºè®¢é˜…è€…ç±»")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cb\n\n    Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n    key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    Dep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newValue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("hr"),t._v(" "),s("ol",[s("li",[t._v("æ”¶é›†è€…ç±»å†…éƒ¨å®é™…å°±"),s("strong",[t._v("ç®¡ç†ä¸‰ä¸ªä¸œè¥¿")]),t._v("ï¼ŒåŸºæœ¬ä¸Šä¸éœ€è¦ä¿®æ”¹é‡Œé¢çš„ä»£ç \n"),s("ol",[s("li",[t._v("ä¸€ä¸ªç®¡ç†è®¢é˜…è€…çš„æ•°ç»„ï¼Œä¸€èˆ¬æ¥è¯´å…¨å±€åªèƒ½æœ‰ä¸€ä¸ªï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼ä¼˜åŒ–ä¸€ä¸‹ä»£ç ï¼Œé˜²æ­¢åˆ›å»º Dep å®ä¾‹çš„æ—¶å€™åˆåˆ›å»ºä¸€ä¸ª æ•°ç»„ï¼›ä¸€ä¸ªæ˜¯ æ·»åŠ  Watcher å®ä¾‹ çš„æ–¹æ³•ï¼›ä¸€ä¸ªæ˜¯ å‘å¸ƒé€šçŸ¥ çš„æ–¹æ³•")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679639403710-63b0a336-fa63-46e3-9593-b1a3859fe526.png#averageHue=%23232931&clientId=uc69149a7-9688-4&from=paste&height=218&id=uac56eb46&originHeight=386&originWidth=603&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=37440&status=done&style=none&taskId=u51571ae7-2b4b-4cec-84c5-6b3e8797767&title=&width=341.1647644042969",alt:"image.png"}})]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("è®¢é˜…è€…ç±»å†…éƒ¨æœ‰ä¸€äº›æ¯”è¾ƒç‰›çš„æŠ€å·§ï¼š\n"),s("ol",[s("li",[t._v("éœ€è¦ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼švueå®ä¾‹ï¼Œå¯¹åº”å…ƒç´ çš„ key(å¯èƒ½æ˜¯ obj.info.name è¿™ç§å½¢å¼ï¼Œå°±æ˜¯å ä½ç¬¦å˜›)ï¼Œè¿˜æœ‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºå½“æ•°æ®æ›´æ–°çš„æ—¶å€™æ‰§è¡Œçš„ã€‚"),s("strong",[t._v("è¿™ä¸ªå›è°ƒå‡½æ•°éœ€è¦ä»€ä¹ˆå‚æ•°æ˜¯åœ¨ watcher å®ä¾‹è¢«åˆ›å»ºçš„æ—¶å€™å®šä¹‰çš„ï¼Œä¸ç±»çš„å®šä¹‰æ— å…³")])]),t._v(" "),s("li",[t._v("**ä¸‰è¡Œç²¾å½©çš„ä»£ç å®ç° **è®¢é˜…è€…å®ä¾‹è¢«æ·»åŠ åˆ° æ”¶é›†è€…çš„æ•°ç»„ä¸­\n"),s("ol",[s("li",[s("strong",[t._v("ç¬¬ä¸€è¡ŒğŸ’˜")]),t._v("ï¼šä½œç”¨æ˜¯è®©å½“å‰çš„ watcher å®ä¾‹ç»‘å®šåˆ° Dep ç±»çš„ç±»å±æ€§ä¸­ï¼Œå…¶ç›®çš„å®é™…ä¸Šå°±æ˜¯ä¼ å‚ï¼Œè®©è¿™ä¸ªå®ä¾‹å°½é‡æˆä¸ºé¡¶å±‚å¯¹è±¡çš„å±æ€§ï¼Œå¥½è®©é¡¶å±‚å¯¹è±¡ä¸‹é¢çš„å…¶ä»–å¯¹è±¡å–å€¼åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯¥å€¼ã€‚è¿™æ ·çš„æ–¹å¼å…¶ä»–åœ°æ–¹ä¹Ÿæœ‰è§è¿‡ï¼Œç±»ä¼¼çš„æœ‰é€šè¿‡åŸå‹é“¾çš„ç»§æ‰¿æ–¹å¼ï¼Œå°†å…¬å…±çš„ä»£ç æ”¾åœ¨åŸå‹ä¸­ä½œä¸ºå…±ç”¨")]),t._v(" "),s("li",[s("strong",[t._v("ç¬¬äºŒè¡ŒğŸ’˜")]),t._v("ï¼šä½œç”¨æ˜¯è·å– data ä¸­å¯¹åº”çš„å€¼ï¼Œè§¦å‘å®ƒçš„ getter æ–¹æ³•ï¼›è¿™ä¸ª getter æ–¹æ³•å†…éƒ¨ä¼šåˆ¤æ–­ Dep ä¸Šæ˜¯å¦ç»‘å®šäº† target ï¼Œå¦‚æœç»‘å®šäº†å°±å°†æ­¤å€¼æ’å…¥åˆ° dep å®ä¾‹çš„æ•°ç»„ä¸­ ï¼ˆå·§å¦™ä¹‹å¤„å°±åœ¨è¿™ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("ç¬¬ä¸‰è¡ŒğŸ’˜")]),t._v("ï¼šè¿™ä¸€æ“ä½œçš„ç›®çš„å°±æ˜¯è®© watcher å®ä¾‹è¢«åˆ›å»ºçš„åŒæ—¶å°†å®ƒä¼ å…¥ æ”¶é›†è€…æ•°ç»„ï¼Œç›®çš„è¾¾åˆ°ä¹‹åï¼Œè¿™ä¸ª target å°±å¯ä»¥ä» Dep ä¸­åˆ é™¤äº†ï¼Œä»¥å…å¯¹åç»­ getter çš„è°ƒç”¨é€ æˆå¹²æ‰°")]),t._v(" "),s("li",[s("strong",[t._v("ç–‘æƒ‘")]),t._v("ğŸ—¯ï¸ğŸ—¯ï¸ï¼šå¯èƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå›°æƒ‘ï¼Œéšä¾¿å–ä¸€ä¸ªæ•°ï¼Œåªè¦è§¦å‘ getter ä¸å°±å¥½äº†å—ï¼Ÿæ—¢ç„¶ è§¦å‘ getter å°±ä¸€å®šä¼šæ£€æŸ¥ Dep ä¸Šæ˜¯å¦æœ‰ getterï¼Œé‚£ä¸ºä»€ä¹ˆä¸€å®šè¦ç´¢å¼•åˆ° key è¡¨ç¤ºçš„æœ€é‡Œé¢çš„å…ƒç´ å‘¢ï¼Ÿ")]),t._v(" "),s("li",[s("strong",[t._v("è§£ç­”ï¼š")])])])])])])]),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("     1. ç¡®å®ï¼Œå•ä»è¿™ä¸ªä»£ç æ¥çœ‹ï¼Œæ˜¯åªè¦è§¦å‘ getter å°±åˆ¤æ–­æ˜¯å¦å­˜åœ¨å®ä¾‹ã€‚ä½†æ˜¯è¿™åªæ˜¯ç®€å•çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä¸ºäº†è®©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£ vue çš„æ·±å±‚æ¬¡åŸç†æ‰æ²¡æœ‰å°†å‘å¸ƒè®¢é˜…å†™çš„é‚£ä¹ˆå®Œç¾ï¼ŒçœŸè¦æ¢ç©¶ï¼Œé‚£ä¹ˆ depSub æ•°ç»„å¯èƒ½å°±æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼å­˜åœ¨äº†ï¼Œé€šè¿‡ key ä¿å­˜ è®¢é˜…å¯¹è±¡ï¼Œæ¯ä¸€ä¸ªè®¢é˜…å¯¹è±¡çš„å€¼éƒ½æ˜¯æ•°ç»„ï¼Œå­˜æ”¾ä¸€ä¸ªä¸ªå›è°ƒï¼Œè¿™æ—¶å€™å°±ä¸æ˜¯ç®€å•çš„åœ¨ get ä¸­ push ä¸€ä¸ªå®ä¾‹å°±å¥½äº†ï¼Œè¯´ä¸å®šå¾—åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰å¯¹åº”ç»‘å®šçš„ keyï¼Œç„¶åå°†å®ä¾‹æ’å…¥ã€‚\n")])])])]),t._v(" "),s("hr"),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("     2. è¡¥å……ï¼šè¿™ä¸ªå›ç­”**å¯èƒ½åªæ˜¯å¼•å‡ºäº† å‘å¸ƒè®¢é˜… çš„ä¸å®Œå–„**ï¼Œå¹¶æ²¡æœ‰ç»™å‡ºä¸€ä¸ªå®Œç¾çš„å®Œå–„æ–¹æ³•ï¼ŒåŒæ—¶**å¯èƒ½ä¹Ÿæ²¡æœ‰è§£å†³é—®é¢˜ä¸­ â€œåªè¦è§¦å‘ getter å°±å¥½äº†â€è¿™ä¸ªé—®é¢˜**ï¼Œä½†æˆ‘è®¤ä¸ºåœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼å®Œå–„çš„è¿‡ç¨‹ä¸­ä¼šæ¶‰åŠåˆ°è¿™ä¸€ä¸ªç‚¹çš„ã€‚å¦‚æœå®Œå–„äº†ä¹Ÿæ²¡æœ‰æ¶‰åŠåˆ°ï¼Œé‚£ä¹ˆç¡®å®å¯ä»¥æƒ³ä¸ªæ–¹æ³•ä¸è®© watcher æ„é€ å™¨å»ç´¢å¼•å¯¹åº”çš„å€¼ï¼Œè€Œæ˜¯å­˜ä¸€ä¸ª èƒ½å¤Ÿè§¦å‘ getter çš„å˜é‡ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹çš„æ—¶å€™è·å–ä¸€ä¸‹è¿™ä¸ª getter ã€‚ï¼ï¼ç”šè‡³ç›´æ¥åœ¨ watcher å†…éƒ¨è°ƒç”¨ addSub çš„æ–¹æ³•ï¼Œåˆ›å»ºå®ä¾‹äº†å°±ç›´æ¥è¢«æ”¶é›†èµ·æ¥ï¼ï¼ï¼ï¼ˆä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿæˆ‘è®¤ä¸ºæŒºçœäº‹çš„ï¼Œä¸ºä»€ä¹ˆè¦åœ¨ getter ä¸­è§¦å‘å‘¢ï¼Ÿï¼‰ï¼ˆåˆæ¥ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æš‚æ—¶ä¸æƒ³å†è§£ç­”äº†ï¼‰\n")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679642897941-3f5bbcd0-dde7-46ad-b0b8-dfa1c5f9ab09.png#averageHue=%23232930&clientId=uc69149a7-9688-4&from=paste&height=272&id=uabf15e4a&originHeight=299&originWidth=1352&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=55173&status=done&style=none&taskId=u6aaf915c-193f-42e9-ac83-059b1d18111&title=&width=1229.0908824510816",alt:"image.png"}})]),t._v(" "),s("hr"),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/20359134/1679643812646-b9028909-b7c5-4484-b3f3-09cfe4296d13.png#averageHue=%23232830&clientId=uc69149a7-9688-4&from=paste&height=692&id=ufe6446eb&originHeight=761&originWidth=1102&originalType=binary&ratio=1.100000023841858&rotation=0&showTitle=false&size=114637&status=done&style=none&taskId=u8b2f3cb0-a842-47d1-9f77-97183191c8c&title=&width=1001.818160104358",alt:"image.png"}})]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("  3. æœ€åï¼Œé™¤äº†æ„é€ å™¨ï¼Œè¿˜æœ‰ä¸€ä¸ª** update å®ä¾‹æ–¹æ³•**ï¼š\n     1. é¦–å…ˆæ˜¯ é€šè¿‡ åˆ›å»ºå®ä¾‹çš„æ—¶å€™ ä¼ å…¥çš„ vm å’Œ key è·å–åˆ° data ä¸­ä¿å­˜çš„å€¼ï¼ˆå› ä¸º update çš„è§¦å‘æ˜¯åœ¨ setter ä¸­ï¼Œä¸” æ˜¯æ›´æ–°å®Œæ•°æ®ä¹‹åï¼Œæ‰€ä»¥**æ‹¿åˆ°çš„ä¸€å®šæ˜¯æ›´æ–°ä¹‹åçš„æ•°æ®**ï¼Œæœ€æ–°å€¼ï¼‰\n     2. æ¥ç€æ˜¯**è°ƒç”¨å½“å‰å®ä¾‹çš„ cb å›è°ƒå‡½æ•°**ï¼Œå¹¶ä¸”å°†æ–°å€¼ä¼ å…¥ï¼Œ**è¿›è€Œå®ç° å•å‘æ•°æ®ç»‘å®š**ï¼ï¼ï¼å°±æ˜¯è°ƒç”¨äº†ä¸€ä¸‹ cbï¼ˆnewValueï¼‰ï¼Œå†…éƒ¨å¯¹ æ¨¡æ¿ä¸­çš„æ•°æ®è¿›è¡Œæ›¿æ¢ï¼Œå®ç°äº†å•å‘æ•°æ®ç»‘å®šï¼ï¼ï¼\n")])])]),s("h1",{attrs:{id:"ğŸ’Ÿæ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’Ÿæ€»ç»“"}},[t._v("#")]),t._v(" ğŸ’Ÿæ€»ç»“")]),t._v(" "),s("ol",[s("li",[t._v("ğŸ˜¹ğŸ˜¹ğŸ˜¹è¿™æ¬¡å­¦ä¹ ä¸­èŠ±äº†"),s("strong",[t._v("ä¸‰å¤©")]),t._v("æ—¶é—´ï¼ŒåŒ…æ‹¬ï¼šçœ‹è§†é¢‘ã€æ‰‹æ•²ã€åšç¬”è®°")]),t._v(" "),s("li",[t._v("âœ‹âœ‹âœ‹å­¦ä¹ åˆ°çš„ï¼š\n"),s("ol",[s("li",[t._v("é€šè¿‡ç±»çš„æ–¹å¼å®ç°ç®€å•çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œä¹‹å‰æ˜¯é€šè¿‡ è°ƒç”¨ æ”¶é›†è€…å†…çš„ on() å’Œ emit() æ–¹æ³•å®ç°çš„")]),t._v(" "),s("li",[t._v("å­¦ä¹ è¿‡ç¨‹åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œé¦–å…ˆæ˜¯å­¦ä¹ äº† "),s("strong",[t._v("æ•°æ®åŠ«æŒæ¨¡å—å’Œå±æ€§ä»£ç†ï¼ˆåŠ«æŒ get å’Œ setï¼‰")]),t._v("ï¼Œ å…¶æ¬¡æ˜¯å­¦ä¹ äº†** compiler ç¼–è¯‘æ¨¡å—ï¼ˆé¡µé¢ä¸€æ¸²æŸ“èƒ½å°†æ¨¡æ¿æ¸²æŸ“ä¸ºå¯¹åº”å†…å®¹ï¼‰"),s("strong",[t._v("ï¼Œå†æ¬¡æ˜¯ç»“åˆ å‘å¸ƒè®¢é˜… å®ç°äº†")]),t._v("æ•°æ®çš„å•å‘ç»‘å®šï¼ˆä¿®æ”¹ data ä¸­çš„æ•°æ®é¡µé¢ä¹Ÿä¼šè·Ÿç€ ä¿®æ”¹ï¼‰**ï¼Œæœ€åæ˜¯å®ç°äº† "),s("strong",[t._v("input çš„åŒå‘ç»‘å®š")])]),t._v(" "),s("li",[t._v("é€šè¿‡ reduce çš„æ–¹æ³•å¯¹ é“¾å¼å¼•ç”¨ å–å€¼çš„å¦™ç”¨ï¼Œè®©è‡ªå·±æŒæ¡äº† reduce çš„ç”¨æ³•ï¼Œä¸‹æ¬¡å¯ä»¥å»è¯•è¯•å†™ä¸€ä¸ª æ•°ç»„æ‰å¹³åŒ– æºä»£ç äº†ï¼ï¼ï¼")]),t._v(" "),s("li",[t._v("å¯¹ Object.definedProperty è¿™ä¸ªæ–¹æ³•æ›´åŠ ç†è§£äº†ï¼Œç”¨çš„å¤šäº†å°±ç†Ÿæ‚‰äº†")]),t._v(" "),s("li",[t._v("å¯¹äºä¸€äº› HTML èŠ‚ç‚¹çš„ä½¿ç”¨ä¹Ÿæ›´ç†Ÿæ‚‰ä¸€äº›äº†ï¼Œå‘ç°äº†ä¹‹å‰è‡ªå·±å¯¹ DOM å…ƒç´ çš„è·å–è¿™ä¸€å—æ¬ ç¼ºå¾ˆå¤§ï¼Œå‡ ä¹æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œä¾‹å¦‚ "),s("strong",[t._v("nodeType")]),t._v("ã€"),s("strong",[t._v("createDocumentFragment")]),t._v("ã€"),s("strong",[t._v("node.attributes")]),t._v(" ç­‰ç­‰")]),t._v(" "),s("li",[t._v("ä¹Ÿé€šè¿‡è¿™æ¬¡å½¬å“¥çš„æ•™å­¦æ–¹å¼æœ‰æ‰€å¯å‘ï¼š\n"),s("ol",[s("li",[t._v("å½¬å“¥æ˜¯å…ˆæŠŠå¿…é¡»è¦æŒæ¡çš„çŸ¥è¯†å…ˆè®²ä¸€éï¼Œå¹¶ä¸”å¼•å‡ºå¾ˆæ°å½“çš„ä½¿ç”¨åœºæ™¯ï¼ˆç»“åˆ Vueï¼‰ï¼Œå¾ˆå¥½ç†è§£")]),t._v(" "),s("li",[t._v("æ¥ç€æ˜¯æ…¢æ…¢å¼•å…¥ä¸€ä¸ªä¸ªçš„"),s("strong",[t._v("æ¨¡å—")]),t._v("è®²è§£ï¼Œåªè®²ä¸€ä¸‹è¿™æ ·åšçš„ä½œç”¨ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿç†è§£è¿™æ ·åšèƒ½å¹²ä»€ä¹ˆï¼Œå¾ˆå°‘è®²ä¸ºä»€ä¹ˆè¦è¿™æ ·åš")]),t._v(" "),s("li",[t._v("è¿™æ ·å­å°†å®Œæ•´çš„åŒå‘æ•°æ®ç»‘å®šå®ç°ä¹‹åï¼Œæˆ‘èƒ½å¤Ÿæ„Ÿè§‰åˆ°å¾ˆå¤§éœ‡æ’¼çš„æ“ä½œï¼ˆè™½ç„¶ä¸­é—´å¾ˆå¤šæ“ä½œä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œä½†æ˜¯èƒ½å¤ŸçŸ¥é“æŒ‰ç…§è€å¸ˆè¿™æ ·åšèƒ½æœ‰ä»€ä¹ˆæ•ˆæœï¼‰ï¼Œæœ€ç»ˆæ¿€å‘æˆ‘çš„å…´è¶£ä¸€ç‚¹ç‚¹å®è·µï¼")]),t._v(" "),s("li",[t._v("æœ€ç»ˆåœ¨æ‰‹æ•²ä»£ç çš„æ—¶å€™ä¼š"),s("strong",[t._v("è‡ªå·±æ€è€ƒ")]),t._v("ï¼šä¸ºä»€ä¹ˆè¿™é‡Œè¦è¿™æ ·åšï¼Ÿè¿™æ ·åšè€ƒè™‘äº†å“ªäº›ç»†èŠ‚ï¼Ÿæœ‰çš„åœ°æ–¹æ˜¯ä¸æ˜¯è€ƒè™‘çš„ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œå¯ä»¥å®Œå–„ï¼ˆä¾‹å¦‚å•ä¾‹æ¨¡å¼çš„æ”¶é›†è€…ï¼‰ï¼Ÿä¹‹å‰çš„çŸ¥è¯†ç‚¹æ˜¯ä¸æ˜¯ä¹Ÿæœ‰è¿™æ ·åšçš„ä¾‹å­ï¼ˆå…³è”ä»¥å‰çš„çŸ¥è¯†ç‚¹ï¼Œä¾‹å¦‚ Dep ä¸­ç»‘å®š Watcher å®ä¾‹ "),s("strong",[t._v("ç±»æ¯”")]),t._v(" "),s("strong",[t._v("åŸå‹æ–¹å¼çš„ç»§æ‰¿")]),t._v("ï¼‰ï¼Ÿç­‰ç­‰ä¸€ç³»åˆ—çš„æ€è€ƒéƒ½æ˜¯åœ¨å®è·µä¸­å¾—æ¥çš„ã€‚è™½ç„¶è¿‡ç¨‹å¾ˆèŠ±æ—¶é—´ï¼Œä½†æ˜¯æ”¶è·ç®—æ˜¯è›®å¤§çš„ï¼Œå¯¹äºæ¥ä¸‹æ¥å­¦ä¹  Vue çš„åŸç†æˆ–è®¸ä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ï¼ï¼ï¼")])])])])]),t._v(" "),s("li",[t._v("ğŸ’¯ğŸ’¯ğŸ’¯å¸Œæœ›ä¹‹åèƒ½ä¸æ€•éº»çƒ¦ï¼Œå¤šçœ‹çœ‹è¿™ç¯‡ æ–‡ç« ï¼Œå®ç°å®Œå…¨ç†è§£ Vue åŒå‘ç»‘å®šåŸç†ï¼Œæ‰‹å†™éƒ½èƒ½å†™å‡ºæ¥å§ï¼ï¼ï¼")])])])}),[],!1,null,null,null);s.default=e.exports}}]);